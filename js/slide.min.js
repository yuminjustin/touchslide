!function(a){var b,c,d,e,f,g,h=!0,i=3e3,j=!0,k=function(f){b=f.s,c=f.s2,d=f.c,e=a("img",c).length,"undefined"!=typeof f.a&&(h=f.a),"number"==typeof f.t&&f.t>1e3&&(i=f.t),"undefined"!=typeof f.f&&(j=f.f),p()},l=a(window).width(),m=a(window).height(),n=0,o=a("li",c),p=function(){r.stage(),t(),h&&q.on()},q={on:function(){h=setInterval(function(){s.next()},i)},off:function(){clearInterval(h)}},r={stage:function(){b.width(l).height(m),this.dot(),this.play(c,-l),this.transit(.3),c.append(a(o[0])[0].outerHTML),a(o[0]).before(a(o[e-1])[0].outerHTML);for(var d=0;e+2>d;d++)this.play(a("li:eq("+d+")",c),d*l)},transit:function(a){c.css({"-webkit-transition":"all "+a+"s","-moz-transition":"all "+a+"s",transition:"all "+a+"s"})},play:function(a,b){a.css({transform:"translate("+b+"px,0px)","-moz-transform":"translate("+b+"px,0px)","-webkit-transform":"translate("+b+"px,0px)"})},dot:function(){for(var b=0;e>b;b++)d.append("<span></span>");a("span:eq(0)",d).addClass("sOn"),d.css("margin-left",d.width()*-.5)},dotchange:function(){var b=n;n==e&&(b=0),a(".sOn",d).removeClass("sOn"),a("span:eq("+b+")",d).addClass("sOn")}},s={next:function(){return n++,n==e+1?(n=0,r.transit(0),r.play(c,-l),void setTimeout(this.next,100)):(r.transit(.3),r.play(c,(n+1)*-l),void r.dotchange())},prev:function(){return n--,-1==n?(n=e-1,r.play(c,0),r.dotchange(),void u(c[0],function(){r.transit(0),r.play(c,(n+1)*-l)})):(r.transit(.3),r.play(c,(n+1)*-l),void r.dotchange())}},t=function(){b.on("touchstart",function(){h&&q.off(),f=(n+1)*-l}),j?b.drag(function(a,b){r.transit(0),r.play(c,f+(b.x-b.xs)),g=Math.abs(b.x-b.xs)>=.38*l?b.x-b.xs<0?"next":"prev":"none"}):(b.swipeLeft(function(){s.next()}),b.swipeRight(function(){s.prev()})),b.on("touchend",function(){j&&(r.transit(.3),"prev"==g?s.prev():"next"==g?s.next():r.play(c,f)),h&&q.on()})},u=function(a,b){var c=function(){b(),a.removeEventListener("webkitTransitionEnd",c,!1),a.removeEventListener("transitionend",c,!1)};a.addEventListener("webkitTransitionEnd",c,!1),a.addEventListener("transitionend",c,!1)};window.touchslide=k}(jQuery);
